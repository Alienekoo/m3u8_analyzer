import datetime
from ipwhois import IPWhois
from pprint import pprint

x = {'BET': {('default', datetime.datetime(2019, 6, 18, 10, 47, 0, 415055)): {'104.31.6.163': ['The page is empty or cannot be reached.', datetime.datetime(2019, 6, 11, 14, 57, 43, 520000)]}}, 'Animal Planet': {('default', datetime.datetime(2019, 6, 18, 10, 47, 0, 415194)): {'80.80.160.168': {'80.80.160.168': {'tslist': ['80.80.160.168', '80.80.160.168', '80.80.160.168'], 'metadata': ['PROGRAM-ID=1', 'BANDWIDTH=1500000']}}}}, 'CBS': {('default', datetime.datetime(2019, 6, 18, 10, 47, 0, 415225)): {'161.0.157.50': {'tslist': ['161.0.157.50', '161.0.157.50', '161.0.157.50'], 'metadata': None}}}, 'Classic Arts Showcase': {('default', datetime.datetime(2019, 6, 18, 10, 47, 0, 421585)): {'151.101.1.194': {'tslist': ['151.101.193.194', '151.101.1.194', '151.101.1.194', '151.101.1.194', '151.101.1.194', '151.101.1.194', '151.101.1.194', '151.101.1.194', '151.101.1.194', '151.101.1.194', '151.101.1.194', '151.101.1.194', '151.101.1.194', '151.101.1.194', '151.101.1.194'], 'metadata': None}}}, 'CMT Music': {('default', datetime.datetime(2019, 6, 18, 10, 47, 0, 421989)): {'104.31.7.163': ['The page is empty or cannot be reached.', datetime.datetime(2019, 6, 11, 14, 57, 50, 187000)]}}, 'Comedy Central': {('default', datetime.datetime(2019, 6, 18, 10, 47, 0, 422380)): {'104.31.7.163': ['The page is empty or cannot be reached.', datetime.datetime(2019, 6, 11, 14, 57, 50, 263000)]}}, 'Cooking Channel': {('default', datetime.datetime(2019, 6, 18, 10, 47, 0, 422496)): {'161.0.157.5': {'161.0.157.5': {'tslist': ['161.0.157.5', '161.0.157.5', '161.0.157.5'], 'metadata': ['PROGRAM-ID=1', 'BANDWIDTH=3251011', 'RESOLUTION=1280x720', 'AUDIO="audio"']}}}}, 'Court TV': {('default', datetime.datetime(2019, 6, 18, 10, 47, 0, 445747)): {'54.165.75.35': {'34.237.126.183': {'tslist': ['192.229.210.181', '192.229.210.181', '192.229.210.181', '192.229.210.181', '192.229.210.181', '192.229.210.181', '192.229.210.181', '192.229.210.181'], 'metadata': ['PROGRAM-ID=1', 'RESOLUTION=640x360', 'BANDWIDTH=926515', 'CODECS="mp4a.40.5', 'avc1.4d001e"', 'FRAME-RATE=30.000', 'AUDIO="aac"', 'AVERAGE-BANDWIDTH=712833']}}}}, 'Discovery HD': {('default', datetime.datetime(2019, 6, 18, 10, 47, 0, 445831)): {'80.80.160.168': {'80.80.160.168': {'tslist': ['80.80.160.168', '80.80.160.168', '80.80.160.168'], 'metadata': ['PROGRAM-ID=1', 'BANDWIDTH=5000000']}}}}, 'Fox': {('default', datetime.datetime(2019, 6, 18, 10, 47, 0, 445855)): {'161.0.157.51': ['The page is empty or cannot be reached.', datetime.datetime(2019, 6, 11, 14, 58, 1, 887000)]}}, 'Fox Premium Comedy': {('default', datetime.datetime(2019, 6, 18, 10, 47, 0, 445958)): {'161.0.157.9': {'161.0.157.9': {'tslist': ['161.0.157.9', '161.0.157.9', '161.0.157.9'], 'metadata': ['PROGRAM-ID=1', 'BANDWIDTH=3142979', 'RESOLUTION=1280x720']}}}}, 'HBO 2': {('default', datetime.datetime(2019, 6, 18, 10, 47, 0, 445986)): {'161.0.157.5': {'tslist': ['161.0.157.5', '161.0.157.5', '161.0.157.5'], 'metadata': None}}}, 'HBO': {('default', datetime.datetime(2019, 6, 18, 10, 47, 0, 446023)): {'161.0.157.5': {'tslist': ['161.0.157.5', '161.0.157.5', '161.0.157.5'], 'metadata': None}}}, 'HLN': {('default', datetime.datetime(2019, 6, 18, 10, 47, 0, 461781)): {'89.187.177.13': {'tslist': ['89.187.177.13', '89.187.177.13', '89.187.177.13', '89.187.177.13'], 'metadata': None}}}, 'HSN': {('default', datetime.datetime(2019, 6, 18, 10, 47, 0, 541925)): {'204.237.142.170': {'204.237.142.170': {'tslist': ['204.237.142.170', '204.237.142.170', '204.237.142.170', '204.237.142.170', '204.237.142.170', '204.237.142.170', '204.237.142.170', '204.237.142.170', '204.237.142.170', '204.237.142.170', '204.237.142.170', '204.237.142.170', '204.237.142.170', '204.237.142.170', '204.237.142.170', '204.237.142.170', '204.237.142.170', '204.237.142.170', '204.237.142.170', '204.237.142.170', '204.237.142.170', '204.237.142.170', '204.237.142.170', '204.237.142.170', '204.237.142.170', '204.237.142.170', '204.237.142.170'], 'metadata': ['PROGRAM-ID=1', 'BANDWIDTH=128000', 'CODECS="mp4a.40.2"']}}}}, 'Investigation Discovery (Discovery)': {('default', datetime.datetime(2019, 6, 18, 10, 47, 0, 542061)): {'80.80.160.168': {'80.80.160.168': {'tslist': ['80.80.160.168', '80.80.160.168', '80.80.160.168'], 'metadata': ['PROGRAM-ID=1', 'BANDWIDTH=1500000']}}}}, 'MSNBC': {('default', datetime.datetime(2019, 6, 18, 10, 47, 0, 543270)): {'89.187.177.13': {'89.187.177.13': {'tslist': ['89.187.177.13', '89.187.177.13', '89.187.177.13', '89.187.177.13'], 'metadata': ['CLOSED-CAPTIONS=NONE', 'RESOLUTION=1280x720', 'FRAME-RATE=3000.000', 'CODECS="avc1.64001f', 'mp4a.40.2"', 'AVERAGE-BANDWIDTH=3125569', 'BANDWIDTH=3906961']}}}}, 'NBC': {('default', datetime.datetime(2019, 6, 18, 10, 47, 0, 543308)): {'161.0.157.51': {'tslist': ['161.0.157.51', '161.0.157.51', '161.0.157.51'], 'metadata': None}}}, 'QVC': {('default', datetime.datetime(2019, 6, 18, 10, 47, 0, 553726)): {'69.164.0.128': {'69.164.0.128': {'tslist': ['69.164.0.128', '69.164.0.128', '69.164.0.128'], 'metadata': ['BANDWIDTH=1928000', 'RESOLUTION=1024x576', 'SUBTITLES="subs"']}}}}, 'TBS': {('default', datetime.datetime(2019, 6, 18, 10, 47, 0, 553875)): {('[Errno -2] Name or service not known', datetime.datetime(2019, 6, 18, 10, 47, 0, 553873)): {'tslist': [[('[Errno -2] Name or service not known', datetime.datetime(2019, 6, 18, 10, 47, 0, 553781)), datetime.datetime(2019, 6, 11, 14, 58, 38, 281000), 'works1'], [('[Errno -2] Name or service not known', datetime.datetime(2019, 6, 18, 10, 47, 0, 553799)), datetime.datetime(2019, 6, 11, 14, 58, 38, 366000), 'works1'], [('[Errno -2] Name or service not known', datetime.datetime(2019, 6, 18, 10, 47, 0, 553813)), datetime.datetime(2019, 6, 11, 14, 58, 38, 461000), 'works1'], [('[Errno -2] Name or service not known', datetime.datetime(2019, 6, 18, 10, 47, 0, 553826)), datetime.datetime(2019, 6, 11, 14, 58, 38, 581000), 'works1'], [('[Errno -2] Name or service not known', datetime.datetime(2019, 6, 18, 10, 47, 0, 553839)), datetime.datetime(2019, 6, 11, 14, 58, 38, 675000), 'works1'], [('[Errno -2] Name or service not known', datetime.datetime(2019, 6, 18, 10, 47, 0, 553852)), datetime.datetime(2019, 6, 11, 14, 58, 38, 756000), 'works1']], 'metadata': None}}}, 'Outdoor Cooking Channel': {('default', datetime.datetime(2019, 6, 18, 10, 47, 0, 553942)): {('[Errno -2] Name or service not known', datetime.datetime(2019, 6, 18, 10, 47, 0, 553939)): {'tslist': [[('[Errno -2] Name or service not known', datetime.datetime(2019, 6, 18, 10, 47, 0, 553896)), datetime.datetime(2019, 6, 11, 14, 58, 39, 393000), 'works1'], [('[Errno -2] Name or service not known', datetime.datetime(2019, 6, 18, 10, 47, 0, 553909)), datetime.datetime(2019, 6, 11, 14, 58, 39, 586000), 'works1'], [('[Errno -2] Name or service not known', datetime.datetime(2019, 6, 18, 10, 47, 0, 553921)), datetime.datetime(2019, 6, 11, 14, 58, 39, 727000), 'works1']], 'metadata': None}}}, 'TLC': {('default', datetime.datetime(2019, 6, 18, 10, 47, 0, 554059)): {'80.80.160.168': {'80.80.160.168': {'tslist': ['80.80.160.168', '80.80.160.168', '80.80.160.168'], 'metadata': ['PROGRAM-ID=1', 'BANDWIDTH=1500000']}}}}, 'TV Land': {('default', datetime.datetime(2019, 6, 18, 10, 47, 0, 554397)): {'104.31.7.163': ['The page is empty or cannot be reached.', datetime.datetime(2019, 6, 11, 14, 58, 44, 488000)]}}}

set1 = {k for d in x.values() for k in d}
print(set1)

obj = IPWhois('151.101.193.194')
res = obj.lookup_whois()
pprint(res)

